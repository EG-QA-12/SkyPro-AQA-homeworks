[pytest]
# Корневая конфигурация Pytest.
# Ограничиваем область поиска тестов директорией ``tests`` для ускорения коллекции.
# При необходимости можно запустить тесты в подпроекте, указав путь, например:
#     pytest projects/auth_management

testpaths = tests
python_files = test_*.py

# Быстрые команды для параллельного запуска:
# pytest -n 10 -v      # Подробный вывод, 10 потоков (~20 сек)  
# pytest -n 10 -q      # Краткий вывод, 10 потоков (~15 сек)
# pytest -n auto       # Автоматическое количество потоков
markers =
    smoke: Smoke-тесты (критически важные сценарии)
    regression: Полный регресс-набор
    critical: Блокирующие релиз проверки
    auth: Тесты авторизации и аутентификации
    ui: UI-тесты
    api: API-интеграции и контракты
    database: Проверки базы данных
    slow: Длительные (>30 сек) сценарии
    integration: Интеграционные тесты (deselect with '-m "not integration"')
    e2e: Сквозные пользовательские сценарии
    demo: Демонстрационные UI сценарии
    performance: Тесты производительности и бенчмарки
    user_journey: Основные пользовательские пути
    admin_workflow: Сценарии для роли администратора
    cross_browser: Кросс-браузерные проверки
    mobile: Мобильные тесты
    infrastructure: Инфраструктурные проверки
    single_user: Тесты для авторизации одного конкретного пользователя
    parametrized_users: Параметризованные тесты для группы пользователей
    cookie_auth: Тесты авторизации через сохранённые cookies
    bulk: массовые тесты авторизации через UI
    sso: Single Sign-On тесты авторизации между всеми доменами экосистемы
    stable: Стабильные тесты для ежедневного запуска
    flaky: Нестабильные тесты (исключить из ежедневного запуска)
    responsive: Тесты адаптивности интерфейса
    memory: Тесты потребления памяти
    xss: Тесты уязвимостей XSS
    url_validation: Тесты валидации URL-адресов
    hybrid: Гибридные тесты (URL + контент валидация)
    refactored: Рефакторированные тесты с упрощенными проверками
    burger_menu: Enterprise burger menu navigation тесты
    cross_domain: Cross-domain enterprise тесты
    burger_menu_params: Мульти-домен параметризованные тесты burger menu
    left_column: Тесты левой колонки burger menu
    right_column: Тесты правой колонки burger menu
    navigation: Тесты навигации

addopts = -ra --strict-markers --strict-config --browser chromium
