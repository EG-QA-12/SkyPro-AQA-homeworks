# –¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –¥–ª—è BLL

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö URL –∫–æ–º–ø–∞–Ω–∏–∏ BLL.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

### `test_redirect_status_codes.py` ‚ö°
**–ë—ã—Å—Ç—Ä—ã–µ HTTP-—Ç–µ—Å—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ requests**

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ HTTP —Å—Ç–∞—Ç—É—Å-–∫–æ–¥—ã –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞:

- **URL –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞** (`https://bll.by/`, `https://expert.bll.by/`, `https://cp.bll.by/`):
  - ‚úÖ –°—Ç–∞—Ç—É—Å-–∫–æ–¥ –ù–ï 302 (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞)
  - ‚úÖ –°—Ç–∞—Ç—É—Å-–∫–æ–¥ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 200-299 (—É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç)

- **URL —Å —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º** (`https://gz.bll.by/`, `https://bonus.bll.by/`):
  - ‚úÖ –°—Ç–∞—Ç—É—Å-–∫–æ–¥ 302 (–Ω–∞–ª–∏—á–∏–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞)
  - ‚úÖ Location header —Å–æ–¥–µ—Ä–∂–∏—Ç `https://ca.bll.by/`

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### –ë—ã—Å—Ç—Ä—ã–µ HTTP-—Ç–µ—Å—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ HTTP —Ç–µ—Å—Ç–æ–≤
pytest integration/redirect_tests/test_redirect_status_codes.py -v

# –° –¥–µ—Ç–∞–ª—å–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
pytest integration/redirect_tests/test_redirect_status_codes.py -v -s
```

### –í—Å–µ —Ç–µ—Å—Ç—ã
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
pytest integration/redirect_tests/ -v
```

### –û—Ç–¥–µ–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤
```bash
# –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
pytest integration/redirect_tests/test_redirect_status_codes.py::test_no_redirect_status_code -v

# –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã —Å —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º
pytest integration/redirect_tests/test_redirect_status_code -v

# –¢–µ—Å—Ç—ã –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
pytest integration/redirect_tests/test_url_connectivity -v
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ HTTP-—Ç–µ—Å—Ç–æ–≤

- ‚ö° **–ë—ã—Å—Ç—Ä–æ—Ç–∞**: ~2-3 —Å–µ–∫—É–Ω–¥—ã –ø—Ä–æ—Ç–∏–≤ 30+ —Å–µ–∫—É–Ω–¥ –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- üîß **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å**: –ú–µ–Ω—å—à–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –º–µ–Ω—å—à–µ —Ç–æ—á–µ–∫ –æ—Ç–∫–∞–∑–∞
- üéØ **–¢–æ—á–Ω–æ—Å—Ç—å**: –ü—Ä—è–º–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ HTTP —Å—Ç–∞—Ç—É—Å-–∫–æ–¥–æ–≤ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- üîÑ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ DOM –∏–ª–∏ JavaScript

## –¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ URL

### –ü—É–±–ª–∏—á–Ω—ã–µ URL (–±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞)
- `https://bll.by/` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `https://expert.bll.by/` - –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–π —Ä–∞–∑–¥–µ–ª
- `https://cp.bll.by/` - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ø—É–±–ª–∏—á–Ω–∞—è —á–∞—Å—Ç—å)

### –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ URL (—Å —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º –Ω–∞ ca.bll.by)
- `https://gz.bll.by/` - –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–∫—É–ø–∫–∏
- `https://bonus.bll.by/` - –ë–æ–Ω—É—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∏–∫—Å—Ç—É—Ä—ã –≤ `conftest.py`
- `http_session`: Session-scoped HTTP –∫–ª–∏–µ–Ω—Ç –±–µ–∑ –∫—É–∫

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ HTTP –∫–ª–∏–µ–Ω—Ç–∞
- –¢–∞–π–º–∞—É—Ç: 10 —Å–µ–∫—É–Ω–¥
- User-Agent: Chrome –±—Ä–∞—É–∑–µ—Ä
- –ö—É–∫–∏: –û—á–∏—â–µ–Ω—ã (–∏–º–∏—Ç–∞—Ü–∏—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- –†–µ–¥–∏—Ä–µ–∫—Ç—ã: `allow_redirects=False` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞

## –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –£—Å–ø–µ—à–Ω—ã–π —Ç–µ—Å—Ç –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
```
‚úÖ URL https://bll.by/ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å 200 –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞.
```

### –£—Å–ø–µ—à–Ω—ã–π —Ç–µ—Å—Ç —Å —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º
```
‚úÖ URL https://gz.bll.by/ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç (—Å—Ç–∞—Ç—É—Å 302) –Ω–∞ https://ca.bll.by/login?return=https%3A%2F%2Fgz.bll.by%2F
```

### –ü—Ä–∏–º–µ—Ä –Ω–µ—É–¥–∞—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
```
‚ùå URL https://example.com/ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å-–∫–æ–¥ 302 (—Ä–µ–¥–∏—Ä–µ–∫—Ç), –Ω–æ –æ–∂–∏–¥–∞–ª—Å—è —Å—Ç–∞—Ç—É—Å –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞.
–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å-–∫–æ–¥: 302
Location header: https://ca.bll.by/login?return=https%3A%2F%2Fexample.com%2F
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- requests >= 2.25.0
- pytest >= 7.0

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º —Å —Ç–µ—Å—Ç–∞–º–∏ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
