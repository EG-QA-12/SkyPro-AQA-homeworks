# [DEPRECATED] E2E Tests (Playwright + Pytest)

⚠️ **ВНИМАНИЕ**: Этот проект перенесен в `auth_project/tests/e2e/`. Используйте новую локацию для всех E2E тестов.

## Старое назначение
Этот проект содержал end-to-end автотесты для проверки бизнес-логики и пользовательских сценариев веб-приложения.

## Зависимости
- Python 3.9+
- Playwright (`pip install playwright pytest pytest-playwright`)
- Установить браузеры для Playwright:
  ```bash
  playwright install
  ```

## Быстрый старт
1. Убедитесь, что в `auth_project/data/` есть рабочие файлы:
   - `users.db` (инициализирован через `auth_project/scripts/init_users.py`)
   - `creds.env` (с реальными логином и паролем)
2. Установите зависимости:
   ```bash
   pip install -r ../auth_project/requirements.txt
   ```
3. Запустите тесты:
   ```bash
   pytest -v tests/
   ```

## Текущая структура проекта

```
e2e_tests/
├── .gitignore                 # Git исключения
└── README.md                 # Эта документация (deprecated notice)
```

**Все тесты и функционал перенесены в `auth_project/tests/e2e/`**

**Описание ключевых файлов и папок:**
- `auth/` — тесты, связанные с авторизацией, личным кабинетом, правами доступа.
    - `test_dashboard.py` — сценарии работы с личным кабинетом пользователя.
- `general/` — общие пользовательские сценарии (главная страница, навигация, доступность).
    - `test_main_page.py` — тесты главной страницы, проверки навигации, базовой доступности.
- `integration/` — интеграционные сценарии между модулями (например, работа вопросов, кросс-функциональные проверки).
    - `test_question_workflow.py` — тесты полного бизнес-процесса работы с вопросами.
- `workflow_fixtures.py` — вспомогательные фикстуры и функции для сложных сценариев.
- `conftest.py` — глобальные фикстуры pytest для инициализации окружения, браузера, куков и т.д.
- `test_auth_debug.py` — отладочные сценарии авторизации, проверки логина/логаута.
- `test_example.py` — пример простого теста для шаблона новых сценариев.
- `test_minimal.py` — минимальный тест-кейс для проверки инфраструктуры.


## Структура тестов
- `tests/` — основные e2e-тесты
  - `test_auth_debug.py` — тесты авторизации
  - `test_example.py` — пример теста
  - `test_minimal.py` — минимальный тест-кейс
  - `workflow_fixtures.py` — фикстуры и вспомогательные функции
- `conftest.py` — глобальные фикстуры pytest
- `e2e/` — дополнительные модули/утилиты

## Полезные команды
- Запуск с подробным выводом:
  ```bash
  pytest -v --headed
  ```
- Запуск одного файла:
  ```bash
  pytest tests/test_auth_debug.py
  ```
- Маркировка и фильтрация:
  ```bash
  pytest -v -m subscription1
  ```

## Примечания
- Для авторизации тесты используют куки и данные из `auth_project/data/`.
- Перед запуском убедитесь, что сервер и БД доступны.
- Для CI/CD настройте секреты и автоматическую генерацию `creds.env`.
