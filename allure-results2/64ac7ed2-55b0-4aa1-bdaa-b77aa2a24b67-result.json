{"name": "Навигация: Настройка уведомлений", "status": "failed", "statusDetails": {"message": "AssertionError: URL не содержит ca.bll.by: https://bll.by/\nassert 'ca.bll.by' in 'https://bll.by/'", "trace": "self = <e2e.test_burger_menu_docs2.TestBurgerMenuNavigationRefactored object at 0x0000026F99ACBF20>\nauthenticated_burger_context = <BrowserContext browser=<Browser type=<BrowserType name=chromium executable_path=C:\\Users\\LENOVO\\AppData\\Local\\ms-playwright\\chromium-1187\\chrome-win\\chrome.exe> version=140.0.7339.16>>\n\n    @allure.title(\"Навигация: Настройка уведомлений\")\n    @allure.description(\"Проверка перехода в Настройка уведомлений - статус код и URL\")\n    @pytest.mark.burger_menu\n    @pytest.mark.navigation\n    @pytest.mark.refactored\n    def test_notification_settings_navigation(self, authenticated_burger_context):\n        \"\"\"\n        Проверка навигации в раздел \"Настройка уведомлений\".\n    \n        Проверяет:\n        - Статус код: 200\n        - URL: https://ca.bll.by/notification/settings (внешний домен)\n        \"\"\"\n        page = authenticated_burger_context.new_page()\n        burger_menu = BurgerMenuPage(page)\n    \n        try:\n            page.goto(\"https://bll.by/\", wait_until=\"domcontentloaded\")            # Добавляем небольшую паузу для избежания конфликтов\n            page.wait_for_timeout(500)\n    \n    \n            # Добавляем retry механизм для открытия меню\n    \n            max_retries = 3\n    \n            for attempt in range(max_retries):\n    \n                if burger_menu.open_menu():\n    \n                    break\n    \n                if attempt < max_retries - 1:\n    \n                    page.wait_for_timeout(1000)\n    \n                    page.reload()\n    \n                else:\n    \n                    assert False, \"Не удалось открыть бургер-меню после нескольких попыток\"\n    \n            with page.expect_response(\"https://ca.bll.by/notification/settings\") as response_info:\n                # Используем более надежный селектор - по тексту и роли\n                if not burger_menu.click_link_by_text(\"Настройка уведомлений\"):\n                    # Если по тексту не сработало, пробуем по ARIA роли\n                    assert burger_menu.click_link_by_role(\"Настройка уведомлений\"), \"Не удалось кликнуть по ссылке 'Настройка уведомлений'\"\n    \n            response = response_info.value\n            assert response.status in [200, 201, 301, 302], f\"Неверный статус код: {response.status}\"\n    \n            # Для внешнего домена проверяем, что URL содержит ca.bll.by\n            current_url = page.url\n>           assert \"ca.bll.by\" in current_url, f\"URL не содержит ca.bll.by: {current_url}\"\nE           AssertionError: URL не содержит ca.bll.by: https://bll.by/\nE           assert 'ca.bll.by' in 'https://bll.by/'\n\ntests\\e2e\\test_burger_menu_docs2.py:2183: AssertionError"}, "description": "Проверка перехода в Настройка уведомлений - статус код и URL", "steps": [{"name": "Открытие бургер-меню", "status": "passed", "parameters": [{"name": "timeout", "value": "1000"}], "start": 1759178460340, "stop": 1759178460492}, {"name": "Клик по ссылке меню по тексту: 'Настройка уведомлений'", "status": "passed", "steps": [{"name": "Проверка открытия меню", "status": "passed", "parameters": [{"name": "timeout", "value": "5000"}], "start": 1759178460510, "stop": 1759178460543}], "parameters": [{"name": "text", "value": "'Настройка уведомлений'"}, {"name": "timeout", "value": "10000"}], "start": 1759178460509, "stop": 1759178470552}, {"name": "Клик по ссылке меню по ARIA роли и имени: 'Настройка уведомлений'", "status": "passed", "steps": [{"name": "Проверка открытия меню", "status": "passed", "parameters": [{"name": "timeout", "value": "5000"}], "start": 1759178470552, "stop": 1759178470561}], "parameters": [{"name": "name", "value": "'Настройка уведомлений'"}, {"name": "timeout", "value": "10000"}], "start": 1759178470552, "stop": 1759178475075}], "attachments": [{"name": "log", "source": "03078638-55f9-49fc-98a0-cd2e9fea4520-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "browser_name", "value": "'chromium'"}], "start": 1759178439571, "stop": 1759178475307, "uuid": "669d75e9-02d4-45eb-a590-7c113eb4353e", "historyId": "bfc166553c2a87d522b8e6915c8aadea", "testCaseId": "99ca7994ede5d367ec687bd8ff33dc3b", "fullName": "tests.e2e.test_burger_menu_docs2.TestBurgerMenuNavigationRefactored#test_notification_settings_navigation", "labels": [{"name": "tag", "value": "failed"}, {"name": "tag", "value": "refactored"}, {"name": "tag", "value": "navigation"}, {"name": "tag", "value": "burger_menu"}, {"name": "parentSuite", "value": "tests.e2e"}, {"name": "suite", "value": "test_burger_menu_docs2"}, {"name": "subSuite", "value": "TestBurgerMenuNavigationRefactored"}, {"name": "host", "value": "LAPTOP-M95T0GFF"}, {"name": "thread", "value": "29744-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.e2e.test_burger_menu_docs2"}], "titlePath": ["tests", "e2e", "test_burger_menu_docs2.py", "TestBurgerMenuNavigationRefactored"]}