{"name": "Навигация: Мои данные", "status": "broken", "statusDetails": {"message": "AttributeError: 'TestBurgerMenuNavigationRefactored' object has no attribute 'logger'", "trace": "self = <e2e.test_burger_menu_docs2.TestBurgerMenuNavigationRefactored object at 0x000001F473E3BCA0>\nauthenticated_burger_context = <BrowserContext browser=<Browser type=<BrowserType name=chromium executable_path=C:\\Users\\LENOVO\\AppData\\Local\\ms-playwright\\chromium-1187\\chrome-win\\chrome.exe> version=140.0.7339.16>>\n\n    @allure.title(\"Навигация: Мои данные\")\n    @allure.description(\"Проверка перехода в Мои данные - статус код и URL\")\n    @pytest.mark.burger_menu\n    @pytest.mark.navigation\n    @pytest.mark.refactored\n    def test_my_data_navigation(self, authenticated_burger_context):\n        \"\"\"\n        Проверка навигации в раздел \"Мои данные\".\n    \n        Проверяет:\n        - Статус код: 200\n        - URL: https://ca.bll.by/user/profile (внешний домен)\n        \"\"\"\n        page = authenticated_burger_context.new_page()\n        burger_menu = BurgerMenuPage(page)\n    \n        try:\n            page.goto(\"https://bll.by/\", wait_until=\"domcontentloaded\")            # Добавляем небольшую паузу для избежания конфликтов\n            page.wait_for_timeout(500)\n    \n    \n            # Добавляем retry механизм для открытия меню\n    \n            max_retries = 3\n    \n            for attempt in range(max_retries):\n    \n                if burger_menu.open_menu():\n    \n                    break\n    \n                if attempt < max_retries - 1:\n    \n                    page.wait_for_timeout(1000)\n    \n                    page.reload()\n    \n                else:\n    \n                    assert False, \"Не удалось открыть бургер-меню после нескольких попыток\"\n    \n            with page.expect_response(\"https://ca.bll.by/user/profile\") as response_info:\n                # Используем улучшенную стратегию клика с force=True для скрытых элементов правой колонки\n                # Прокручиваем вправо для отображения правых колонок меню\n                page.evaluate(\"window.scrollTo({ left: 1000, behavior: 'smooth' });\")\n                page.wait_for_timeout(1000)\n    \n                # Используем ARIA роль с force кликом - самый надежный способ для скрытых элементов\n                my_data_link = page.get_by_role(\"link\", name=\"Мои данные\")\n    \n                try:\n                    # Ждем прикрепления элемента\n                    my_data_link.wait_for(state=\"attached\", timeout=5000)\n    \n                    # Всегда используем force=True для правой колонки (элементы могут быть скрыты)\n                    my_data_link.click(force=True, timeout=5000)\n                except Exception as e1:\n                    # ARIA роль с force кликом не сработала, попробуем альтернативные стратегии\n                    pass\n    \n                    # Альтернативная стратегия: поиск по тексту с force кликом\n                    try:\n                        text_link = page.locator(\"a:has-text('Мои данные')\").first\n                        text_link.wait_for(state=\"attached\", timeout=5000)\n>                       text_link.click(force=True, timeout=5000)\n\ntests\\e2e\\test_burger_menu_docs2.py:2040: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv\\Lib\\site-packages\\playwright\\sync_api\\_generated.py:15543: in click\n    self._sync(\n.venv\\Lib\\site-packages\\playwright\\_impl\\_locator.py:160: in click\n    return await self._frame.click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv\\Lib\\site-packages\\playwright\\_impl\\_frame.py:549: in click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n.venv\\Lib\\site-packages\\playwright\\_impl\\_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x000001F473CF3B60>\ncb = <function Channel.send.<locals>.<lambda> at 0x000001F47447FD80>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.Error: Locator.click: Element is not visible\nE           Call log:\nE             - waiting for locator(\"a:has-text('Мои данные')\").first\nE               - locator resolved to <a class=\"menu_item_link\" href=\"https://ca.bll.by/user/profile\">Мои данные </a>\nE             - attempting click action\nE               - scrolling into view if needed\n\n.venv\\Lib\\site-packages\\playwright\\_impl\\_connection.py:558: Error\n\nDuring handling of the above exception, another exception occurred:\n\nself = <e2e.test_burger_menu_docs2.TestBurgerMenuNavigationRefactored object at 0x000001F473E3BCA0>\nauthenticated_burger_context = <BrowserContext browser=<Browser type=<BrowserType name=chromium executable_path=C:\\Users\\LENOVO\\AppData\\Local\\ms-playwright\\chromium-1187\\chrome-win\\chrome.exe> version=140.0.7339.16>>\n\n    @allure.title(\"Навигация: Мои данные\")\n    @allure.description(\"Проверка перехода в Мои данные - статус код и URL\")\n    @pytest.mark.burger_menu\n    @pytest.mark.navigation\n    @pytest.mark.refactored\n    def test_my_data_navigation(self, authenticated_burger_context):\n        \"\"\"\n        Проверка навигации в раздел \"Мои данные\".\n    \n        Проверяет:\n        - Статус код: 200\n        - URL: https://ca.bll.by/user/profile (внешний домен)\n        \"\"\"\n        page = authenticated_burger_context.new_page()\n        burger_menu = BurgerMenuPage(page)\n    \n        try:\n            page.goto(\"https://bll.by/\", wait_until=\"domcontentloaded\")            # Добавляем небольшую паузу для избежания конфликтов\n            page.wait_for_timeout(500)\n    \n    \n            # Добавляем retry механизм для открытия меню\n    \n            max_retries = 3\n    \n            for attempt in range(max_retries):\n    \n                if burger_menu.open_menu():\n    \n                    break\n    \n                if attempt < max_retries - 1:\n    \n                    page.wait_for_timeout(1000)\n    \n                    page.reload()\n    \n                else:\n    \n                    assert False, \"Не удалось открыть бургер-меню после нескольких попыток\"\n    \n            with page.expect_response(\"https://ca.bll.by/user/profile\") as response_info:\n                # Используем улучшенную стратегию клика с force=True для скрытых элементов правой колонки\n                # Прокручиваем вправо для отображения правых колонок меню\n                page.evaluate(\"window.scrollTo({ left: 1000, behavior: 'smooth' });\")\n                page.wait_for_timeout(1000)\n    \n                # Используем ARIA роль с force кликом - самый надежный способ для скрытых элементов\n                my_data_link = page.get_by_role(\"link\", name=\"Мои данные\")\n    \n                try:\n                    # Ждем прикрепления элемента\n                    my_data_link.wait_for(state=\"attached\", timeout=5000)\n    \n                    # Всегда используем force=True для правой колонки (элементы могут быть скрыты)\n                    my_data_link.click(force=True, timeout=5000)\n                except Exception as e1:\n                    # ARIA роль с force кликом не сработала, попробуем альтернативные стратегии\n                    pass\n    \n                    # Альтернативная стратегия: поиск по тексту с force кликом\n                    try:\n                        text_link = page.locator(\"a:has-text('Мои данные')\").first\n                        text_link.wait_for(state=\"attached\", timeout=5000)\n                        text_link.click(force=True, timeout=5000)\n                        self.logger.info(\"Успешно кликнули по ссылке 'Мои данные' по тексту с force=True\")\n                    except Exception as e2:\n>                       self.logger.warning(f\"Поиск по тексту с force кликом не сработал: {e2}\")\n                        ^^^^^^^^^^^\nE                       AttributeError: 'TestBurgerMenuNavigationRefactored' object has no attribute 'logger'\n\ntests\\e2e\\test_burger_menu_docs2.py:2043: AttributeError"}, "description": "Проверка перехода в Мои данные - статус код и URL", "steps": [{"name": "Открытие бургер-меню", "status": "passed", "parameters": [{"name": "timeout", "value": "1000"}], "start": 1759178433042, "stop": 1759178433211}], "parameters": [{"name": "browser_name", "value": "'chromium'"}], "start": 1759178412039, "stop": 1759178439279, "uuid": "b8a60710-d4d8-4724-958a-faf07fcac416", "historyId": "e92a6c5ca2367da5d0c7e9bc4187c3c1", "testCaseId": "aaee52eca047989ee719b484b831b29d", "fullName": "tests.e2e.test_burger_menu_docs2.TestBurgerMenuNavigationRefactored#test_my_data_navigation", "labels": [{"name": "tag", "value": "failed"}, {"name": "tag", "value": "refactored"}, {"name": "tag", "value": "navigation"}, {"name": "tag", "value": "burger_menu"}, {"name": "parentSuite", "value": "tests.e2e"}, {"name": "suite", "value": "test_burger_menu_docs2"}, {"name": "subSuite", "value": "TestBurgerMenuNavigationRefactored"}, {"name": "host", "value": "LAPTOP-M95T0GFF"}, {"name": "thread", "value": "23112-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.e2e.test_burger_menu_docs2"}], "titlePath": ["tests", "e2e", "test_burger_menu_docs2.py", "TestBurgerMenuNavigationRefactored"]}