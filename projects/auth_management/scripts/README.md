# Утилитарные скрипты проекта

## Описание

Этот каталог содержит вспомогательные скрипты для управления проектом, включая работу с пользователями, авторизацией и другими системными задачами.

## Структура

```
scripts/
├── __init__.py                # Инициализация модуля
├── auth_integration.py        # Интеграция авторизации
├── authorize_users_from_csv.py # Массовая авторизация из CSV
├── bulk_add_users.py          # Массовое добавление пользователей
├── check_users.py            # Просмотр информации о пользователях
├── clean_db.py               # Очистка базы данных
├── delete_users.py           # Удаление пользователей
├── init_users.py             # Инициализация тестовых пользователей
└── README.md                # Эта документация
```

## Основные скрипты

### check_users.py

Скрипт для просмотра информации о пользователях в системе.

```bash
python scripts/check_users.py
```

Выводит:
- Список всех пользователей с их ролями
- Общее количество пользователей
- Статус пользователей (активные/неактивные)

### auth_integration.py

Интеграция с системой авторизации.

```bash
python scripts/auth_integration.py --user admin --role admin
```

### bulk_add_users.py

Массовое добавление пользователей из CSV файла.

```bash
python scripts/bulk_add_users.py --csv path/to/users.csv
```

Формат CSV:
```csv
username,password,role,subscription
ivan,pass123,user,1
admin,adminpass,admin,3
```

### authorize_users_from_csv.py

Массовая авторизация пользователей из CSV.

```bash
python scripts/authorize_users_from_csv.py path/to/users.csv
```

### clean_db.py

Очистка базы данных от тестовых данных.

```bash
python scripts/clean_db.py
```

### delete_users.py

Удаление пользователей из системы.

```bash
python scripts/delete_users.py --username user1
```

### init_users.py

Инициализация тестовых пользователей.

```bash
python scripts/init_users.py
```

## Общие принципы

1. Все скрипты:
   - Имеют подробные docstrings
   - Обрабатывают ошибки и выводят информативные сообщения
   - Поддерживают --help для вывода справки
   - Логируют свои действия

2. Безопасность:
   - Не хранят секреты в коде
   - Используют переменные окружения для чувствительных данных
   - Проверяют права доступа перед операциями

3. Код:
   - Следует PEP 8
   - Включает type hints
   - Имеет модульные тесты (где применимо)

## Добавление новых скриптов

1. Создайте файл в директории `scripts/`
2. Следуйте шаблону существующих скриптов
3. Добавьте документацию и примеры использования
4. Обновите этот README.md

## Запуск тестов для скриптов

```bash
pytest tests/test_scripts/ -v
```

## Замечания по безопасности

- Внимательно проверяйте входные данные
- Не храните пароли и токены в коде
- Используйте безопасные методы обработки данных
- Логируйте без раскрытия чувствительной информации
