"""Настройки, связанные с использованием SQLite-базы данных.

Этот модуль централизует конфигурацию пути к файлу базы данных.
Его использование гарантирует, что все части проекта работают с одной и той же
базой данных, расположенной в каталоге `data/` в корне репозитория.

Почему именно так
----------------
1. *Прозрачность.* Новым участникам проекта не нужно искать, где находится БД.
2. *Гибкость.* При миграции на PostgreSQL или смене расположения файла нужно
   поменять путь только здесь.
3. *Безопасность.* Каталог `data/` добавлен в `.gitignore`, поэтому файл БД
   не попадёт в репозиторий.
"""
from pathlib import Path

# Корень репозитория — это два уровня выше текущего файла: config/db_settings.py -> config -> <root>
PROJECT_ROOT: Path = Path(__file__).resolve().parent.parent

# Каталог для артефактов (БД, временные файлы и пр.)
DATA_DIR: Path = PROJECT_ROOT / "data"
DATA_DIR.mkdir(exist_ok=True)

# Путь к SQLite-файлу по умолчанию
DEFAULT_DB_PATH: Path = DATA_DIR / "users.db"

__all__ = ["DEFAULT_DB_PATH", "DATA_DIR", "PROJECT_ROOT"]
