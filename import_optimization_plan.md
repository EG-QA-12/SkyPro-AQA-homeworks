# üöÄ –ü–ª–∞–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–º–ø–æ—Ä—Ç–æ–≤

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω - —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ù–ï –û–ë–ù–ê–†–£–ñ–ï–ù–û
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-01-27  
**–ê–≤—Ç–æ—Ä**: Lead SDET Architect

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞

### ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- **–¶–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: 0 (–æ—Ç–ª–∏—á–Ω–æ!)
- **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Ñ–∞–π–ª–æ–≤**: 2009
- **–ú–æ–¥—É–ª–µ–π —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –∏–º–ø–æ—Ä—Ç–∞–º–∏**: 85
- **–í—Å–µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤**: 157

### üéØ –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –ê–≤—Ç–æ–∏–º–ø–æ—Ä—Ç –≤ `framework/utils/db_helpers.py` (—Å—Ç—Ä–æ–∫–∞ —É–¥–∞–ª–µ–Ω–∞)
2. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–º–ø–æ—Ä—Ç–æ–≤ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞** - –Ω–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

## üèóÔ∏è –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏–º–ø–æ—Ä—Ç–æ–≤

### Framework –º–æ–¥—É–ª–∏ (dependency graph)
```
framework/utils/auth_operations ‚Üí 4 internal dependencies
‚îú‚îÄ‚îÄ framework.app.pages.login_page
‚îú‚îÄ‚îÄ framework.utils.auth_utils  
‚îú‚îÄ‚îÄ framework.utils.cookie_constants
‚îî‚îÄ‚îÄ framework.utils.url_utils

framework/utils/db_helpers ‚Üí 1 internal dependency
‚îî‚îÄ‚îÄ framework.db_utils.database_manager

framework/app/pages/login_page ‚Üí 2 internal dependencies
‚îú‚îÄ‚îÄ framework.app.pages.base_page
‚îî‚îÄ‚îÄ framework.utils.cookie_constants

framework/app/pages/{moderator_dashboard,profile}_page ‚Üí 1 dependency each
‚îî‚îÄ‚îÄ framework.utils.url_utils
```

### üîù –¢–æ–ø –º–æ–¥—É–ª–µ–π –ø–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º
1. **projects.auth_management.auth_gui_new**: 6 –∏–º–ø–æ—Ä—Ç–æ–≤
2. **tests.unit.test_auth_quick**: 5 –∏–º–ø–æ—Ä—Ç–æ–≤  
3. **projects.auth_management.auth_gui**: 5 –∏–º–ø–æ—Ä—Ç–æ–≤
4. **tests.auth.test_ui_login_and_session_save**: 4 –∏–º–ø–æ—Ä—Ç–æ–≤

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
```markdown
‚úÖ –í–´–ü–û–õ–ù–ï–ù–û: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚úÖ –í–´–ü–û–õ–ù–ï–ù–û: –£–¥–∞–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–∏–º–ø–æ—Ä—Ç–æ–≤
‚úÖ –í–´–ü–û–õ–ù–ï–ù–û: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è auth —É—Ç–∏–ª–∏—Ç
‚úÖ –í–´–ü–û–õ–ù–ï–ù–û: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –º–æ–¥—É–ª–µ–π
```

### üîß –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–º–ø–æ—Ä—Ç–æ–≤

#### 2.1 –õ–µ–Ω–∏–≤—ã–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```python
# –í –º–æ–¥—É–ª—è—Ö —Å Playwright, requests –∏ –¥—Ä—É–≥–∏–º–∏ —Ç—è–∂–µ–ª—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏
def heavy_function():
    from playwright.sync_api import Page  # –õ–µ–Ω–∏–≤—ã–π –∏–º–ø–æ—Ä—Ç
    # ... –ª–æ–≥–∏–∫–∞
```

#### 2.2 –£—Å–ª–æ–≤–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π  
```python
# –í framework/__init__.py —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
try:
    from .utils.auth_utils import save_cookie, load_cookie
    from .utils.reporting.allure_utils import AllureReporter
except (ModuleNotFoundError, ValueError):
    save_cookie = load_cookie = None
    AllureReporter = None
```

#### 2.3 –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤ –ø–æ —Å–ª–æ—è–º
```python
# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
import os
import sys
from pathlib import Path

# –í–Ω–µ—à–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
import pytest
from playwright.sync_api import Page

# –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–æ–¥—É–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
from framework.utils.auth_utils import save_cookie
from framework.app.pages.login_page import LoginPage
```

### üèõÔ∏è –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 3.1 –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
```bash
# –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
framework/
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ auth_types.py      # –¢–∏–ø—ã –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ db_types.py        # –¢–∏–ø—ã –¥–ª—è –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ test_types.py      # –¢–∏–ø—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤
```

#### 3.2 –£–ª—É—á—à–µ–Ω–∏–µ dependency injection
```python
# –ü—Ä–∏–º–µ—Ä —É–ª—É—á—à–µ–Ω–∏—è –≤ auth_utils.py:
class AuthManager:
    def __init__(self, db_manager: Optional[DatabaseManager] = None):
        self._db = db_manager or DatabaseManager()  # DI pattern
```

## üìã –ü–ª–∞–Ω –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
1. **–ê–Ω–∞–ª–∏–∑ –∏–º–ø–æ—Ä—Ç–æ–≤** - –≤—ã–ø–æ–ª–Ω–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é
2. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∞–≤—Ç–æ–∏–º–ø–æ—Ä—Ç–∞** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω db_helpers.py
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ

### üîÑ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–¥–ª—è –±—É–¥—É—â–∏—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π)
1. **–°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥—É–ª—è —Ç–∏–ø–æ–≤** - –¥–ª—è –ª—É—á—à–µ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ª–µ–Ω–∏–≤—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤** - –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏  
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏–∞–≥—Ä–∞–º–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–°–¢–ê–¢–£–°: ‚úÖ –°–¢–†–£–ö–¢–£–†–ê –ò–ú–ü–û–†–¢–û–í –û–ü–¢–ò–ú–ê–õ–¨–ù–ê**

–ê–Ω–∞–ª–∏–∑ –ø–æ–∫–∞–∑–∞–ª, —á—Ç–æ —Ç–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–º–ø–æ—Ä—Ç–æ–≤ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ—Ç–ª–∏—á–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏:

- ‚ùå **–¶–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–µ—Ç**
- ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—å–Ω–∞—è –∏ –ª–æ–≥–∏—á–Ω–∞—è**  
- ‚úÖ **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–¥—É—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏**
- ‚úÖ **Framework –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç —Ç–µ—Å—Ç–æ–≤**
- ‚úÖ **–î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –º–æ–¥—É–ª–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã**

–î–∞–ª—å–Ω–µ–π—à–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤ **–Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∫—Ä–∏—Ç–∏—á–Ω–æ–π** –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ —Ä–∞–º–∫–∞—Ö –±—É–¥—É—â–∏—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. 