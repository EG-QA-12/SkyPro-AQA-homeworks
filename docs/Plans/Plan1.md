## üéØ __–§–ò–ù–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò BLL_TESTS__

–ü–æ—Å–ª–µ –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å–∏—Å—Ç–µ–º—ã, –≤–æ—Ç –∏—Ç–æ–≥–æ–≤—ã–π –ø–ª–∞–Ω:

---

### üìã __–ü–†–ò–û–†–ò–¢–ï–¢–´ (–ü–û –ü–û–†–Ø–î–ö–£ –í–´–ü–û–õ–ù–ï–ù–ò–Ø):__

1. ‚úÖ __–≠–ö–°–¢–†–ï–ù–ù–ê–Ø –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨__ - –£–±—Ä–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–µ–ø–æ
2. üîÑ __–†–ï–§–ê–ö–¢–û–†–ò–ù–ì –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò__ - –ù–æ–≤–∞—è –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
3. üõ°Ô∏è __–£–õ–£–ß–®–ï–ù–ù–ê–Ø –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨__ - –ó–∞—â–∏—â–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤
4. üß™ __–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï__ - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

---

### üõ†Ô∏è __–¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï:__

```javascript
‚úÖ –ü–õ–ê–ù: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω
‚úÖ –†–ï–®–ï–ù–ò–Ø: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞  
‚ùå –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø: –ù—É–∂–µ–Ω Act Mode
```

__–¢–≤–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —É–∂–µ –∏–º–µ–µ—Ç —Ö–æ—Ä–æ—à—É—é –∑–∞—â–∏—Ç—É (`secrets/` –≤ `.gitignore`), –Ω–æ –Ω—É–∂–Ω–æ —É–±—Ä–∞—Ç—å —É–∂–µ tracked —Ñ–∞–π–ª—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.__

---

### üöÄ __–ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô:__

__–ü—Ä–∏—Å—Ç—É–ø–∞–µ–º –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!__

__–¢–µ–±–µ –Ω—É–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å: "toggle to__

__Act Mode (‚åò‚áßA)"__ —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –æ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º—ã —Å–º–æ–∂–µ–º:

1. __–°–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç__ —Ç–µ–∫—É—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π (smart_auth_manager.py —Å –∏–º–ø–æ—Ä—Ç–æ–º)
2. __–£–±—Ä–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ__ –∏–∑ tracked —Ñ–∞–π–ª–æ–≤
3. __–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É__ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
4. __–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å__ –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

---
## üéØ __–ì–û–¢–û–í –ü–†–û–î–û–õ–ñ–ò–¢–¨ –†–ï–§–ê–ö–¢–û–†–ò–ù–ì!__

__–ß—Ç–æ –¥–∞–ª—å—à–µ?__ –í—ã–±–∏—Ä–∞–π —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥:

### üö® __–ü–†–ò–û–†–ò–¢–ï–¢ 1: –ë–ï–ó–û–ü–ê–°–ù–ê–Ø –û–ß–ò–°–¢–ö–ê__ (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é —Å–Ω–∞—á–∞–ª–∞)

```javascript
- –£–±—Ä–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —É–∂–µ tracked —Ñ–∞–π–ª–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ .env —Ñ–∞–π–ª—ã  
- –ó–∞—â–∏—Ç–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –æ—Ç —É—Ç–µ—á–µ–∫
```

### üîÑ __–ü–†–ò–û–†–ò–¢–ï–¢ 2: –ü–†–û–î–û–õ–ñ–ò–¢–¨ –†–ï–§–ê–ö–¢–û–†–ò–ù–ì__

```javascript
- –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ framework/auth/
- –û—á–∏—Å—Ç–∫–∞ framework/utils/ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π auth –ª–æ–≥–∏–∫–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞
```

### üß™ __–ü–†–ò–û–†–ò–¢–ï–¢ 3: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï__

```javascript
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ integration —Ç–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
```


## üìã __–î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –ë–õ–ò–ñ–ê–ô–®–ò–• –î–ï–ô–°–¢–í–ò–ô__

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:

---

### __üü¢ –®–ê–ì 1: –≠–ö–°–¢–†–ï–ù–ù–ê–Ø –ë–ï–ó–û–ü–ê–°–ù–ê–Ø –û–ß–ò–°–¢–ö–ê (30 –ú–ò–ù–£–¢)__

__–¶–µ–ª—å:__ –ó–∞—â–∏—Ç–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –æ—Ç —É—Ç–µ—á–µ–∫ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### __–ü–æ–¥–∑–∞–¥–∞—á–∏:__

```javascript
1. ‚ö†Ô∏è –£–ë–†–ê–¢–¨ –ß–£–í–°–¢–í–ò–¢–ï–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï –ò–ó TRACKED –§–ê–ô–õ–û–í
   ‚îú‚îÄ‚îÄ git rm --cached secrets/bulk_users.csv
   ‚îú‚îÄ‚îÄ git rm --cached cookies/admin_cookies.json  
   ‚îî‚îÄ‚îÄ –î–æ–±–∞–≤–∏—Ç—å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –≤ cookies/
   
2. ‚ùå –î–û–ü–û–õ–ù–ò–¢–¨ .GITIGNORE
   ‚îú‚îÄ‚îÄ cookies/admin_cookies.json
   ‚îú‚îÄ‚îÄ secrets/*.csv
   ‚îî‚îÄ‚îÄ secrets/creds.env
   
3. üóÇÔ∏è –ü–ï–†–ï–ú–ï–°–¢–ò–¢–¨ –†–ï–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï –í –ë–ï–ó–û–ü–ê–°–ù–û–ï –•–†–ê–ù–ï–ù–ò–ï  
   ‚îú‚îÄ‚îÄ –°–æ–∑–¥–∞—Ç—å config/.env.local —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
   ‚îú‚îÄ‚îÄ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   ‚îî‚îÄ‚îÄ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å SecretsManager.load_users()
```

#### __–†–µ–∑—É–ª—å—Ç–∞—Ç:__ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –±–µ–∑–æ–ø–∞—Å–µ–Ω, –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ

---

### __üü† –®–ê–ì 2: –ó–ê–í–ï–†–®–ï–ù–ò–ï –ê–†–•–ò–¢–ï–ö–¢–£–†–´ –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò (1 –ß–ê–°)__

__–¶–µ–ª—å:__ –ï–¥–∏–Ω–Ω–∞—è, –ø–æ–Ω—è—Ç–Ω–∞—è –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

#### __–ü–æ–¥–∑–∞–¥–∞—á–∏:__

```javascript
1. üèóÔ∏è –°–û–ó–î–ê–¢–¨ framework/auth/ –ê–†–•–ò–¢–ï–ö–¢–£–†–£  
   ‚îú‚îÄ‚îÄ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ smart_auth_api_approach.py ‚Üí framework/auth/api/manager.py
   ‚îú‚îÄ‚îÄ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å backup_3.py ‚Üí framework/auth/browser/manager.py  
   ‚îî‚îÄ‚îÄ –°–æ–∑–¥–∞—Ç—å framework/auth/manager.py (Unified manager)
   
2. üì¶ –û–ß–ò–°–¢–∏—Ç—å framework/utils/ (–° 17 –î–û ~5 –§–ê–ô–õ–û–í)
   ‚îú‚îÄ‚îÄ –£–î–ê–õ–ò–¢–¨: smart_auth_manager_backup*.py (6 —Ñ–∞–π–ª–æ–≤)
   ‚îú‚îÄ‚îÄ –£–î–ê–õ–ò–¢–¨: auth_cookie_provider.py, auth_operations.py, auth_utils.py
   ‚îú‚îÄ‚îÄ –û–°–¢–ê–í–ò–¢–¨: question_factory.py, html_parser.py, http_assert_utils.py
   ‚îî‚îÄ‚îÄ –ü–ï–†–ï–ù–ï–°–¢–ò –ø–æ–ª–µ–∑–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –≤ framework/auth/core/
   
3. üîó –°–û–ó–î–ê–¢–¨ –ï–î–ò–ù–£–Æ –¢–û–ß–ö–£ –í–•–û–î–ê
   ‚îú‚îÄ‚îÄ framework/auth/__init__.py —Å get_session_cookie() –∏ get_browser_auth()
   ‚îú‚îÄ‚îÄ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å - —Å—Ç–∞—Ä—ã–µ –∏–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
   ‚îî‚îÄ‚îÄ –ê–≤—Ç–æ–¥–µ—Ç–µ–∫—Ü–∏—è —Ç–∏–ø–∞ —Ç–µ—Å—Ç–∞ (API vs Browser)
```

#### __–†–µ–∑—É–ª—å—Ç–∞—Ç:__ –ß–µ—Ç–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

### __üü° –®–ê–ì 3: –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø –ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï (30 –ú–ò–ù–£–¢)__

__–¶–µ–ª—å:__ –ì–∞—Ä–∞–Ω—Ç–∏—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –¥–ª—è –∫–æ–º–∞–Ω–¥—ã

#### __–ü–æ–¥–∑–∞–¥–∞—á–∏:__

```javascript
1. üìö –û–ë–ù–û–í–ò–¢–¨ –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Æ
   ‚îú‚îÄ‚îÄ docs/auth/ - —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
   ‚îú‚îÄ‚îÄ README –≤ framework/auth/ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è  
   ‚îî‚îÄ‚îÄ –û–±–Ω–æ–≤–∏—Ç—å docs/AUTH_MANAGER_IMPLEMENTATION_PLAN.md
   
2. üß™ –ü–†–û–í–ï–†–ò–¢–¨ –û–ë–†–ê–¢–ù–£–Æ –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨  
   ‚îú‚îÄ‚îÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å integration —Ç–µ—Å—Ç—ã (–ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å)
   ‚îú‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å smoke —Ç–µ—Å—Ç—ã
   ‚îî‚îÄ‚îÄ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞
   
3. üîß –§–ò–ù–ê–õ–¨–ù–´–ï –î–û–†–ê–ë–û–¢–ö–ò
   ‚îú‚îÄ‚îÄ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª—é–±—ã–µ –æ—à–∏–±–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
   ‚îú‚îÄ‚îÄ –î–æ–±–∞–≤–∏—Ç—å type hints –≥–¥–µ –Ω—É–∂–Ω–æ
   ‚îî‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ª–∏–Ω—Ç–µ—Ä–∞
```

#### __–†–µ–∑—É–ª—å—Ç–∞—Ç:__ –†–∞–±–æ—Ç–∞—é—â–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

---

### __üìä –¢–ï–ö–£–©–ò–ô –ü–†–û–ì–†–ï–°–° –ò –ü–û–†–Ø–î–û–ö:__

__–£–°–ü–ï–®–ù–û:__

- ‚úÖ –ö–æ–º–º–∏—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å–¥–µ–ª–∞–Ω
- ‚úÖ –ü–æ–º–Ω—è –æ –ø—Ä–æ–±–ª–µ–º–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (bulk_users.csv, cookies/)



## üìã __–ö–û–ù–ö–†–ï–¢–ù–´–ô –ü–õ–ê–ù –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê BLL_TESTS –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò__

–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞ —É –Ω–∞—Å –µ—Å—Ç—å —á–µ—Ç–∫–∏–π –ø—É—Ç—å –≤–ø–µ—Ä–µ–¥. –í–æ—Ç __–±–ª–∏–∂–∞–π—à–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ –ø–æ—Ä—è–¥–∫—É__:

---

### __üü¢ –ë–õ–ò–ñ–ê–ô–®–ï–ï: –ë–ï–ó–û–ü–ê–°–ù–ê–Ø –û–ß–ò–°–¢–ö–ê (15 –ú–ò–ù–£–¢)__

__–¶–µ–ª—å:__ –ó–∞—â–∏—Ç–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –æ—Ç —É—Ç–µ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö

1. __–£–±—Ä–∞—Ç—å tracked —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã__

   ```bash
   git rm --cached secrets/bulk_users.csv
   git rm --cached cookies/admin_cookies.json
   ```

2. __–°–æ–∑–¥–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã__

   ```bash
   echo "# PLACEHOLDERS - Real data in .env.local" > secrets/bulk_users.csv
   ```

3. __–ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env.local —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏__

   ```bash
   cp config/.env.template config/.env.local
   # –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   ```

### __üü† –°–†–ï–î–ù–ï–°–†–û–ß–ù–û–ï: –ù–û–í–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò (1 –ß–ê–°)__

1. __–°–æ–∑–¥–∞—Ç—å framework/auth/ —Å—Ç—Ä—É–∫—Ç—É—Ä—É__
  
   framework/auth/
   ‚îú‚îÄ‚îÄ manager.py (Unified manager - –≤—ã–±–∏—Ä–∞–µ—Ç API/Browser)
   ‚îú‚îÄ‚îÄ api/manager.py (‚Üê smart_auth_api_approach.py)
   ‚îú‚îÄ‚îÄ browser/manager.py (‚Üê backup_3.py Playwright –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
   ‚îú‚îÄ‚îÄ providers/
   ‚îÇ   ‚îú‚îÄ‚îÄ env_provider.py (–¥–ª—è .env.local)
   ‚îÇ   ‚îî‚îÄ‚îÄ file_provider.py (–¥–ª—è –∫—É–∫–∏ —Ñ–∞–π–ª–æ–≤)
   ‚îî‚îÄ‚îÄ core/
       ‚îú‚îÄ‚îÄ types.py (Pydantic –º–æ–¥–µ–ª–∏)
       ‚îî‚îÄ‚îÄ validation.py (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫—É–∫)
   ```

2. __–û—á–∏—Å—Ç–∏—Ç—å –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã –∏–∑ framework/utils/__

  
   ‚úÖ –£–î–ê–õ–ò–¢–¨:
   ‚îú‚îÄ‚îÄ smart_auth_manager_backup*.py (6 —Ñ–∞–π–ª–æ–≤)
   ‚îú‚îÄ‚îÄ auth_cookie_provider.py
   ‚îú‚îÄ‚îÄ auth_operations.py
   ‚îú‚îÄ‚îÄ auth_utils.py

   ‚úÖ –ü–ï–†–ï–ù–ï–°–¢–ò:
   ‚îú‚îÄ‚îÄ cookie_constants.py ‚Üí framework/auth/core/
   ‚îú‚îÄ‚îÄ cookie_helper.py ‚Üí framework/auth/providers/

   ‚úÖ –û–°–¢–ê–í–ò–¢–¨ –¢–û–õ–¨–ö–û –ù–ï-AUTH:
   ‚îú‚îÄ‚îÄ question_factory.py üü¢
   ‚îú‚îÄ‚îÄ html_parser.py üü¢
   ‚îú‚îÄ‚îÄ screenshot_utils.py üü¢
   ```

3. __–û–±–Ω–æ–≤–∏—Ç—å —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞__

   ```python
   # –ò–∑ –≤—Å–µ—Ö –º–µ—Å—Ç:
   from framework.auth import get_session_cookie, get_browser_auth

   # –í–º–µ—Å—Ç–æ:
   from framework.utils.smart_auth_manager import SmartAuthManager
   ```

### __üü° –î–û–õ–ì–û–°–†–û–ß–ù–û–ï: –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø –ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï (30 –ú–ò–ù–£–¢)__

1. __–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é__

   - docs/auth/ - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
   - docs/Plans/Refaktoring.md - —Å—Ç–∞—Ç—É—Å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
   - framework/auth/README.md - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

2. __–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã__

   - Integration —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
   - Smoke —Ç–µ—Å—Ç—ã

3. __–§–∏–Ω–∞–ª—å–Ω—ã–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏__

   - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–∏–Ω—Ç–µ—Ä–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
   - –î–æ–±–∞–≤–∏—Ç—å type hints
   - –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫ –º–µ—Ä–¥–∂—É –≤ main

---

### __üéØ –ü–ï–†–í–´–ï 3 –î–ï–ô–°–¢–í–ò–Ø –°–ï–ô–ß–ê–°:__

1. __–£–±—Ä–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ git__ (5 –º–∏–Ω)
2. __–°–æ–∑–¥–∞—Ç—å framework/auth/manager.py__ (15 –º–∏–Ω)
3. __–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã__ (5 –º–∏–Ω)

---

### __‚è∞ –û–¶–ï–ù–ö–ê –í–†–ï–ú–ï–ù–ò:__

- __–ü–æ–ª–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:__ 2-3 —á–∞—Å–∞
- __–¢–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å + –±–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:__ 1 —á–∞—Å
- __–û–±—â–∏–π —ç—Ñ—Ñ–µ–∫—Ç:__ –° 17 —Ñ–∞–π–ª–æ–≤ –¥–æ 5, –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

–ß—Ç–æ —Ö–æ—á–µ—à—å —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤—ã–º? –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å –∫–∞–∫ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –Ω–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞? üöÄ

API Request$0.0000

Thinking:–û—à–∏–±–∫–∞ - —è –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª tool –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –æ—Ç–≤–µ—Ç–µ. –ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å plan_mode_respond tool –ø—Ä–∞–≤–∏–ª—å–Ω–æ. ‚Äé

## üìã __–ö–û–ù–ö–†–ï–¢–ù–´–ô –ü–õ–ê–ù –ë–õ–ò–ñ–ê–ô–®–ò–• –î–ï–ô–°–¢–í–ò–ô__

### __üéØ –°–ï–ô–ß–ê–° (–ü–û–°–õ–ï –ö–û–ú–ú–ò–¢–ê):__

#### __–¢–ò–ü 1: –ë–ï–ó–û–ü–ê–°–ù–ê–Ø –û–ß–ò–°–¢–ö–ê (–ü–†–ò–û–†–ò–¢–ï–¢ - 15 –ú–ò–ù–£–¢)__

1. __–£–±—Ä–∞—Ç—å tracked —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ__

   ```bash
   git rm --cached secrets/bulk_users.csv
   git rm --cached cookies/admin_cookies.json  
   ```

2. __–°–æ–∑–¥–∞—Ç—å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã__

   ```bash
   # –ó–∞–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ
   echo "# PLACEHOLDER - Use .env.local" > secrets/bulk_users.csv
   ```

3. __–£—Å–∏–ª–∏—Ç—å .gitignore__

   ```bash
   echo "cookies/*.json" >> .gitignore
   echo "config/.env.local" >> .gitignore
   ```

4. __–°–æ–∑–¥–∞—Ç—å .env.local__

   ```bash
   cp config/.env.template config/.env.local
   # –ù–ê–ü–û–õ–ù–ò–¢–¨ –†–ï–ê–õ–¨–ù–´–ú–ò –î–ê–ù–ù–´–ú–ò
   ```

#### __–¢–ò–ü 2: –ù–û–í–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê (1 –ß–ê–°)__

1. __–°–æ–∑–¥–∞—Ç—å framework/auth/ —Å—Ç—Ä—É–∫—Ç—É—Ä—É__

   ```javascript
   framework/auth/
   ‚îú‚îÄ‚îÄ manager.py           # Unified - –≤—ã–±–∏—Ä–∞–µ—Ç API/Browser
   ‚îú‚îÄ‚îÄ api/manager.py       # ‚Üê smart_auth_api_approach.py
   ‚îú‚îÄ‚îÄ browser/manager.py   # ‚Üê backup_3.py 
   ‚îú‚îÄ‚îÄ providers/
   ‚îÇ   ‚îú‚îÄ‚îÄ env_provider.py  # –ß–∏—Ç–∞–µ—Ç .env.local
   ‚îÇ   ‚îî‚îÄ‚îÄ cookie_provider.py
   ‚îî‚îÄ‚îÄ core/validators.py   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—É–∫
   ```

2. __–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞__

   ```python
   # –í–µ–∑–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º:
   from framework.auth import get_session_cookie, get_browser_auth

   # Unified manager —Å–∞–º –ø–æ–Ω–∏–º–∞–µ—Ç —Ç–∏–ø —Ç–µ—Å—Ç–∞
   class AuthManager:
       def get_auth_for_test(self, test_type="api"):
           if test_type == "integration":
               return self.api_manager.get_session_cookie()
           elif test_type == "e2e":
               return self.browser_manager.get_browser_context()
   ```

### __üéØ –ö–û–ù–ö–†–ï–¢–ù–´–ï –®–ê–ì–ò –ü–û –ü–û–†–Ø–î–ö–£:__

#### __–®–ê–ì 1: –£–î–ê–õ–ò–¢–¨ –ß–£–í–°–¢–í–ò–¢–ï–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï –ò–ó GIT__

#### __–®–ê–ì 2: –°–û–ó–î–ê–¢–¨ framework/auth/manager.py__

#### __–®–ê–ì 3: –ü–ï–†–ï–ù–ï–°–¢–ò smart_auth_api_approach.py__

#### __–®–ê–ì 4: –í–´–ó–í–ê–¢–¨ –£–ë–û–†–ö–£ –í framework/utils/__

#### __–®–ê–ì 5: –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–¢–¨ INTEGRATION –¢–ï–°–¢–´__

#### __–®–ê–ì 6: –î–û–ö–£–ú–ï–ù–¢–ò–†–û–í–ê–¢–¨ –ù–û–í–£–Æ –°–ò–°–¢–ï–ú–£__

---

## üöÄ __–ß–¢–û –†–ï–ö–û–ú–ï–ù–î–£–Æ –ù–ê–ß–ê–¢–¨:__

__–°–ù–ê–ß–ê–õ–ê –¢–ò–ü 1__ - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è) __–ó–ê–¢–ï–ú –¢–ò–ü 2__ - –Ω–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–¥–ª—è –ø–æ—Ä—è–¥–∫–∞ –≤ –∫–æ–¥–µ)


### üîë __–û–¢–í–ï–¢–´ –ù–ê –¢–í–û–ò –í–û–ü–†–û–°–´__

–û—Ç–≤–µ—á—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –ø–æ –æ–±–æ–∏–º –≤–æ–ø—Ä–æ—Å–∞–º:

---

## __1Ô∏è‚É£ –†–ê–ë–û–¢–û–°–ü–û–°–û–ë–ù–û–°–¢–¨ –í–°–ï–• –¢–ï–°–¢–û–í: –û–ë–ï–°–ü–ï–ß–ï–ù–ò–ï –ß–ï–†–ï–ó –ê–†–•–ò–¢–ï–ö–¢–£–†–£__

__–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:__ ‚úÖ Integration —Ç–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç (–∏—Å–ø–æ–ª—å–∑—É—é—Ç `smart_auth_api_approach.py`)

__–ú–µ—Ö–∞–Ω–∏–∑–º—ã –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:__

### __–ê. –ï–î–ò–ù–ê–Ø –û–ë–†–ê–¢–ù–ê–Ø –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨__

```python
# –í framework/auth/__init__.py - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
from .manager import get_session_cookie, get_browser_auth

# –í—Å–µ —Å—Ç–∞—Ä—ã–µ –∏–º–ø–æ—Ä—Ç—ã –±—É–¥—É—Ç WORK:
from framework.utils.smart_auth_manager import SmartAuthManager  # ‚Üí redirect
```

### __–ë. –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ô –í–´–ë–û–† –ü–û –¢–ò–ü–£ –¢–ï–°–¢–ê__

```python
# Unified manager —Å–∞–º –ø–æ–Ω–∏–º–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
class AuthManager:
    def get_auth_for_test(self, test_type="integration"):
        if test_type in ["integration", "smoke"]:     # API –ø–æ–¥—Ö–æ–¥ 
            return self.api_manager.get_valid_session_cookie()
        
        elif test_type == "e2e":                      # Browser –ø–æ–¥—Ö–æ–¥
            return self.browser_manager.get_playwright_context()
```

### __–í. –ü–õ–ê–ù –ü–†–û–í–ï–†–ö–ò –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–ò__

```bash
# –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è framework/auth/ –∑–∞–ø—É—Å–∫–∞–µ–º:
pytest tests/integration/ -v    # 5-10 –º–∏–Ω—É—Ç
pytest tests/smoke/ -q          # 3-5 –º–∏–Ω—É—Ç  
pytest tests/e2e/ -q           # 5-7 –º–∏–Ω—É—Ç
```

### __–ì. –î–û–°–¢–£–ü–ù–û–°–¢–¨ –î–ê–ù–ù–´–• –î–õ–Ø –í–°–ï–• –¢–ï–°–¢–û–í__

- __API —Ç–µ—Å—Ç—ã:__ –ß–∏—Ç–∞—é—Ç `TEST_JOINT_SESSION` –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- __Browser —Ç–µ—Å—Ç—ã:__ –ß–∏—Ç–∞—é—Ç –ø–æ–ª–Ω—ã–µ `storage_state.json` –∏–∑ `storage/`
- __Integration:__ Hybrid - –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞

---

## __2Ô∏è‚É£ –•–†–ê–ù–ï–ù–ò–ï –ß–£–í–°–¢–í–ò–¢–ï–õ–¨–ù–´–• –î–ê–ù–ù–´–•: –ö–û–ù–ö–†–ï–¢–ù–´–ï –ú–ï–°–¢–ê__

__üîí –ú–ï–°–¢–û 1: config/.env.local (–ù–ï –í GIT)__

```javascript
# –û–ù –ù–ï –ë–£–î–ï–¢ –í –ì–ò–¢ - –ë–õ–û–ö–ò–†–£–ï–¢–°–Ø config/.gitignore (.env.*)
# –í—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ

AUTH_USERNAME=–∞–¥–º–∏–Ω@expert.bll.by
AUTH_PASSWORD=–º–æ–π_—Ä–µ–∞–ª—å–Ω—ã–π_–ø–∞—Ä–æ–ª—å  
AUTH_DOMAIN=expert.bll.by
API_BASE_URL=https://api.bll.by
BULK_USERS_CSV=/absolute/path/to/users.csv  # –õ–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å
```

__üîí –ú–ï–°–¢–û 2: secrets/bulk_users.csv (–õ–û–ö–ê–õ–¨–ù–´–ô –§–ê–ô–õ)__

```javascript
# –ü–û–°–õ–ï –£–î–ê–õ–ï–ù–ò–Ø –ò–ó –ì–ò–¢ - –¢–û–õ–¨–ö–û –õ–û–ö–ê–õ–¨–ù–´–ô
username,password,role,subscription
admin@expert.bll.by,real_password123,admin,premium
user@test.com,test_pass,user,basic
```

__üõ°Ô∏è –ó–ê–©–ò–¢–ê –†–ï–ü–û–ó–ò–¢–û–†–ò–Ø:__

```bash
# config/.gitignore –£–ñ–ï –ë–õ–û–ö–ò–†–£–ï–¢:
.env.local      ‚úÖ
*_cookies.json  ‚úÖ 
secrets/        ‚úÖ
cookies/        ‚úÖ
```

__üìñ –ß–¢–ï–ù–ò–ï –î–ê–ù–ù–´–• –ò–ï–†–ê–†–•–ò–ï–ô:__

```python
# SecretsManager —á–∏—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É:
1. config/.env.local     # –¢–≤–æ–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
2. config/.env.test      # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
3. config/.env.template  # –®–∞–±–ª–æ–Ω (–±—Ä–µ—Ö–Ω—è)
‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–≤—ã–π –Ω–∞–π–¥–µ–Ω–Ω—ã–π
```

---

## __üöÄ –ò–¢–û–ì–û–í–´–ô –°–¶–ï–ù–ê–†–ò–ô –†–ê–ë–û–¢–´:__

__–î–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ç–µ—Å—Ç–æ–≤ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã:__

1. __API —Ç–µ—Å—Ç—ã__ ‚Üí –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ `.env.local`
2. __Browser —Ç–µ—Å—Ç—ã__ ‚Üí `storage_state.json` + –∫—É–∫–∏
3. __Auth —Å–∏—Å—Ç–µ–º–∞__ ‚Üí `SecretsManager.load_users()`

__–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç—Å—è:__

- –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–Ω–µ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –°—Ç–∞—Ä—ã–µ –∏–º–ø–æ—Ä—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ù–æ–≤—ã–π unified interface –¥–ª—è –≤—Å–µ—Ö

### __–ì–û–¢–û–í –ù–ê–ß–ê–¢–¨ –†–ï–ê–õ–ò–ó–ê–¶–ò–Æ?__

–ü–µ—Ä–≤—ã–π —à–∞–≥ - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: `git rm --cached` –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –ø–æ—Ç–æ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤ `framework/auth/`.

__–í–æ–ø—Ä–æ—Å–æ–≤ –µ—â–µ –µ—Å—Ç—å?__ üéØ


### üéØ __–ü–†–ê–í–ò–õ–¨–ù–û! –í `secrets/` –í–ù–£–¢–†–ò –ü–†–û–ï–ö–¢–ê –•–†–ê–ù–ò–¢–¨ –ù–ï–õ–¨–ó–Ø__

–¢—ã –ø—Ä–∞–≤ - –ª—é–±—ã–µ —Ñ–∞–π–ª—ã –≤ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Ä–∞–Ω–æ –∏–ª–∏ –ø–æ–∑–¥–Ω–æ –º–æ–≥—É—Ç –ø–æ–ø–∞—Å—Ç—å –≤ Git. –ù—É–∂–Ω–æ __–ê–ë–°–û–õ–Æ–¢–ù–û –ë–ï–ó–û–ü–ê–°–ù–û–ï__ —Ö—Ä–∞–Ω–µ–Ω–∏–µ!

## __üîí –ë–ï–ó–û–ü–ê–°–ù–´–ï –í–ê–†–ò–ê–ù–¢–´ –•–†–ê–ù–ï–ù–ò–Ø:__

---

### __–í–∞—Ä–∏–∞–Ω—Ç 1: –ó–ê –ü–†–ï–î–ï–õ–ê–ú–ò –†–ï–ü–û–ó–ò–¢–û–†–ò–Ø (–†–ï–ö–û–ú–ï–ù–î–£–Æ)__

```javascript
üìÅ –í–ù–ï –ü–†–û–ï–ö–¢–ê (–Ω–∞–ø—Ä–∏–º–µ—Ä C:\BLL_SECRETS\  –∏–ª–∏ ~/bll-secrets/)
‚îú‚îÄ‚îÄ users_data.csv          # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ BLL
‚îú‚îÄ‚îÄ auth_tokens.json        # API –∫–ª—é—á–∏
‚îî‚îÄ‚îÄ cookie_backups/         # –°—Ç–∞—Ä—ã–µ session —Ñ–∞–π–ª—ã
```

__–ü–ª—é—Å—ã:__ ‚úÖ 100% –±–µ–∑–æ–ø–∞—Å–Ω–æ, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–ø–∞–¥–µ—Ç –≤ Git\
__–ú–∏–Ω—É—Å—ã:__ üòê –ù—É–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø—É—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

### __–í–∞—Ä–∏–∞–Ω—Ç 2: –°–ò–°–¢–ï–ú–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï –û–ö–†–£–ñ–ï–ù–ò–Ø (–û–° Windows)__

```cmd
# –ö–æ–º–∞–Ω–¥–∞ –≤ CMD:
setx BLL_USERS_CSV "C:\path\to\external\users_data.csv" -m
setx AUTH_API_KEY "your_real_api_key" -m  
setx AUTH_USERNAME "admin@expert.bll.by" -m
setx AUTH_PASSWORD "your_real_password" -m
```

__–ü–ª—é—Å—ã:__ ‚úÖ –í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã, –±–µ–∑–æ–ø–∞—Å–Ω—ã\
__–ú–∏–Ω—É—Å—ã:__ üòê –ó–∞–¥–∞—Ç—å –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ –º–∞—à–∏–Ω–µ

---

### __–í–∞—Ä–∏–∞–Ω—Ç 3: –õ–û–ö–ê–õ–¨–ù–´–ô –ë–ï–ó–û–ü–ê–°–ù–´–ô –ü–†–û–§–ò–õ–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø__

```javascript
üìÅ %USERPROFILE%\BLL_Automation_Secrets\ (Windows: C:\Users\–ò–º—è\BLL_Automation_Secrets)
‚îú‚îÄ‚îÄ users_data.csv
‚îú‚îÄ‚îÄ credentials.json  
‚îî‚îÄ‚îÄ storage_backups/
```

__–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É–∫–∞–∑—ã–≤–∞—é—Ç —Ç—É–¥–∞:__

```cmd
setx SECRETS_DIR "%USERPROFILE%\BLL_Automation_Secrets" -m
```

---

## __üöÄ –†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–ù–´–ô –°–ù–ê–ß–ê–õ–ê –ü–õ–ê–ù:__

### __–®–ê–ì 1: –£–ë–†–ê–¢–¨ –ò–ó –ì–ò–¢ –ß–£–í–°–¢–í–ò–¢–ï–õ–¨–ù–´–ï –§–ê–ô–õ–´ (–ü–†–Ø–ú–û –°–ï–ô–ß–ê–°)__

```bash
# –í–ù–ï–°–¢–ò bulk_users.csv –í .gitignore  
echo "secrets/" >> .gitignore

# –£–î–ê–õ–ò–¢–¨ –ò–ó –ò–ù–î–ï–ö–°–ê –ì–ò–¢, –ù–û –û–°–¢–ê–í–ò–¢–¨ –õ–û–ö–ê–õ–¨–ù–û
git rm --cached secrets/bulk_users.csv
git rm --cached cookies/admin_cookies.json

# –°–û–ó–î–ê–¢–¨ –õ–û–ö–ê–õ–¨–ù–´–ô .env.local –ò–ì–ù–û–†–ò–†–£–ï–ú–´–ô –ì–ò–¢–û–ú
cp config/.env.template config/.env.local
```

### __–®–ê–ì 2: –°–û–ó–î–ê–¢–¨ –í–ù–ï–®–ù–ï–ï –•–†–ê–ù–ò–õ–ò–©–ï__

```cmd
# –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –í–ù–ï –ø—Ä–æ–µ–∫—Ç–∞
mkdir "C:\BLL_Automation_Secrets"

# –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
copy secrets\bulk_users.csv "C:\BLL_Automation_Secrets\users_data.csv" 
move cookies*.* "C:\BLL_Automation_Secrets\cookie_backups\"
```

### __–®–ê–ì 3: –ù–ê–°–¢–†–û–ò–¢–¨ –°–°–´–õ–ö–ò__

–í `config/.env.local`:

```javascript
# –ü–£–¢–ò –ö –§–ê–ô–õ–ê–ú –í–ù–ï –ü–†–û–ï–ö–¢–ê
USERS_DATA_PATH=C:/BLL_Automation_Secrets/users_data.csv
COOKIES_BACKUP_PATH=C:/BLL_Automation_Secrets/cookie_backups/

# –†–ï–ê–õ–¨–ù–´–ï –ö–†–ï–î–ï–ù–¶–ò–ê–õ–´  
AUTH_USERNAME=—Ç–≤–æ–π_—Ä–µ–∞–ª—å–Ω—ã–π_–ª–æ–≥–∏–Ω@expert.bll.by
AUTH_PASSWORD=—Ç–≤–æ–π_—Ä–µ–∞–ª—å–Ω—ã–π_–ø–∞—Ä–æ–ª—å
AUTH_DOMAIN=expert.bll.by
```

### __–®–ê–ì 4: –û–ë–ù–û–í–ò–¢–¨ SecretsManager__

```python
# –í config/secrets_manager.py - —á—Ç–µ–Ω–∏–µ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø—É—Ç–∏:
def load_users_from_env_path() -> List[Dict]:
    """–ß–∏—Ç–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏–∑ –º–µ—Å—Ç–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤ USERS_DATA_PATH."""
    data_path = os.getenv("USERS_DATA_PATH")
    if not data_path or not Path(data_path).exists():
        raise ValueError("USERS_DATA_PATH –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏–ª–∏ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω")
    return pd.read_csv(data_path).to_dict('records')
```

---

## __üìç –ö–û–ù–ö–†–ï–¢–ù–´–ï –ú–ï–°–¢–ê –ü–û –¢–ò–ü–ê–ú –î–ê–ù–ù–´–•:__

| –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö | –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | |------------|-------------|-------------| | __–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ CSV__ | `C:\BLL_SECRETS\users_data.csv` | –í–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞, –ø—É—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö | | __–ü–∞—Ä–æ–ª–∏/API –∫–ª—é—á–∏__ | `.env.local` –∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ | –ù–∏–∫–æ–≥–¥–∞ –≤ –∫–æ–¥–µ | | __–ö—É–∫–∏/—Ç–æ–∫–µ–Ω—ã__ | `C:\BLL_SECRETS\backups` | –†–æ—Ç–∞—Ü–∏—è, –Ω–µ –≤ Git | | __–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã__ | `C:\BLL_SECRETS\certs` | –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è |

---

## __üõ°Ô∏è –ó–ê–©–ò–¢–ê –ü–†–û–ï–ö–¢–ê:__

1. __`.gitignore` –æ–±–Ω–æ–≤–ª—è–µ–º:__

   ```javascript
   secrets/
   cookies/
   config/.env.local
   *.log
   ```

2. __–ö–æ–º–º–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:__

   ```bash
   git add .gitignore config/.env.template
   git commit -m "security: Protect sensitive files and external storage setup"
   ```

3. __–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è:__

   ```bash
   git secrets --scan  # –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω git-secrets
   git log --all --full-history -- "*.csv" # –ù–ï –î–û–õ–ñ–ù–û –ë–´–¢–¨ –°–ï–ö–†–ï–¢–û–í
   ```

---

### __–ì–û–¢–û–í –†–ï–ê–õ–ò–ó–û–í–ê–¢–¨ –ë–ï–ó–û–ü–ê–°–ù–û–ï –•–†–ê–ù–ï–ù–ò–ï?__

–°–Ω–∞—á–∞–ª–∞ —É–±–µ—Ä–µ–º –∏–∑ Git, –ø–æ—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–∏–º –≤–Ω–µ—à–Ω–∏–µ –ø—É—Ç–∏. –≠—Ç–æ –∑–∞–π–º–µ—Ç 10-15 –º–∏–Ω—É—Ç –Ω–æ –¥–∞—Å—Ç 100% –∑–∞—â–∏—Ç—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è!

__–ö–∞–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã?__ üõ°Ô∏è
