# üß™ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–µ–∫—Ç–µ BLL_tests

> –ü–µ—Ä–µ–º–µ—â–µ–Ω–æ –∏–∑ README.md –∏ QUICK_TESTING_GUIDE.md 29-Jul-2025. –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ—Å—Ç–∞—Ö –±—ã–ª–∞ —Ä–∞–∑–±—Ä–æ—Å–∞–Ω–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Ñ–∞–π–ª–∞–º, —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–Ω–∞ –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤.

(–Ω–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–æ –Ω–µ–∏–∑–º–µ–Ω—ë–Ω–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω–æ–µ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ)

# üß™ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–µ–∫—Ç–µ BLL_tests

## –û–ø–∏—Å–∞–Ω–∏–µ
–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–µ—Å—Ç–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏ —Å–ø–æ—Å–æ–±—ã –∏—Ö –∑–∞–ø—É—Å–∫–∞. –û–Ω —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∏–∑—É—á–∞—é—â–∏—Ö —Å–∏—Å—Ç–µ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥—É–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–µ—Å—Ç–æ–≤:

- `tests/integration/` - **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** (–æ—Å–Ω–æ–≤–Ω–∞—è —Ç–µ—Å—Ç–æ–≤–∞—è –±–∞–∑–∞)
  - `redirect_tests/` ‚Äî —Ç–µ—Å—Ç—ã —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤
  - `sso/` ‚Äî —Ç–µ—Å—Ç—ã SSO
  - `infrastructure/` ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

- `tests/e2e/` - **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã** (—Ç–µ—Å—Ç–æ–≤ –Ω–µ—Ç, —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
  - `conftest.py` ‚Äî –æ–±—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã
  - `auth/` ‚Äî —Ç–µ—Å—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

- `tests/auth/` - **–¢–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**
  - `test_api_mass_authorization.py` ‚Äî –º–∞—Å—Å–æ–≤–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ API
  - `unified_auth_tests.py` ‚Äî –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** - –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ 10 –ø–æ—Ç–æ–∫–æ–≤
- üéØ **–ì–∏–±–∫–∏–µ —Ä–µ–∂–∏–º—ã –∑–∞–ø—É—Å–∫–∞** - headless, headed, CI/CD
- üìä **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ—Ç—á—ë—Ç—ã** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Allure
- üõ°Ô∏è **–ê–Ω—Ç–∏–±–æ—Ç –∑–∞—â–∏—Ç–∞** - –æ–±—Ö–æ–¥ –¥–µ—Ç–µ–∫—Ü–∏–∏ headless –±—Ä–∞—É–∑–µ—Ä–æ–≤
- üîê **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞ —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤ Playwright
playwright install
```

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤)
```bash
# Windows - –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ –±–∞—Ç–Ω–∏–∫—É:
scripts/run_tests_quick.bat        # ~15 —Å–µ–∫, –∫—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥
scripts/run_tests_parallel.bat     # ~20 —Å–µ–∫, –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
scripts/run_tests_allure.bat       # —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π Allure –æ—Ç—á—ë—Ç–æ–≤
```

### 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
```bash
# –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (–ø–æ–¥—Ä–æ–±–Ω–æ):
python -m pytest -n 10 -v

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ (–∫—Ä–∞—Ç–∫–æ):
python -m pytest -n 10 -q

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤:
python -m pytest -n auto -v
```

### 3. –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏
```bash
# –¢–æ–ª—å–∫–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:
python -m pytest tests/integration/ -n 10 -v

# –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
python -m pytest tests/auth/ -n 10 -v

# –¢–æ–ª—å–∫–æ SSO —Ç–µ—Å—Ç—ã:
python -m pytest tests/integration/sso/ -n 10 -v

# –° Allure –æ—Ç—á—ë—Ç–∞–º–∏:
python -m pytest -n 10 -v --alluredir=allure-results
```

## –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞:
- ‚úÖ –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- ‚ùå –ü—Ä–æ–≤–∞–ª —Ç–µ—Å—Ç–∞
- ‚ö†Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- üïí –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- üìä –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- ‚ùå –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–∞–ª–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- ‚è±Ô∏è –û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- üìà –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—Ö–∞

## –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞
```
============================= test session starts ==============================
platform win32 -- Python 3.9.7, pytest-7.1.2, pluggy-1.0.0
rootdir: D:\Bll_tests
plugins: allure-pytest-2.9.45, playwright-0.0.10
collected 26 items

tests\integration\test_auth_quick.py::test_api_mass_authorization PASSED [  3%]
tests\integration\test_burger_menu_links_playwright.py::test_burger_menu_links PASSED [  7%]
tests\integration\test_burger_menu_links_requests.py::test_burger_menu_links_requests PASSED [ 11%]
tests\integration\test_burger_menu_links_selenium.py::test_burger_menu_links_selenium PASSED [ 15%]
tests\integration\test_cookie_auth_visual.py::test_cookie_auth_visual PASSED [ 19%]
tests\integration\redirect_tests\test_redirect_simple.py::test_redirect_simple PASSED [ 23%]
tests\integration\sso\test_sso_cookie_auth.py::test_sso_cookie_auth PASSED [ 26%]

============================== 26 passed in 20.12s ==============================
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ "–ú–æ–¥—É–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
cd D:\Bll_tests

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä—ã Playwright
playwright install
```

### –û—à–∏–±–∫–∞ "–§–∞–π–ª cookies –Ω–µ –Ω–∞–π–¥–µ–Ω"
```bash
# –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É cookies –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
mkdir cookies

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è cookies
pytest tests/auth/test_single_user_creds_login_and_save_cookie.py
```

### –ë—Ä–∞—É–∑–µ—Ä –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä—ã Playwright
playwright install --force
```

### –¢–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç –≤ headless —Ä–µ–∂–∏–º–µ
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ headed —Ä–µ–∂–∏–º–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
pytest --headed -v

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ API –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (–æ–±—Ö–æ–¥–∏—Ç –∞–Ω—Ç–∏–±–æ—Ç –∑–∞—â–∏—Ç—É)
python scripts/run_auth_tests.py api
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å Allure –æ—Ç—á—ë—Ç–∞–º–∏
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ allure-results –ø—É—Å—Ç–∞—è
rm -rf allure-results/*

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ—Ç—á—ë—Ç–æ–≤
python -m pytest -n 10 -v --alluredir=allure-results

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä Allure
allure serve allure-results
```

## –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞:
- `conftest.py` - –æ–±—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `framework/` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
  - `utils/` - –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
  - `app/` - —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `config/` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - `browsers/` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞—É–∑–µ—Ä–æ–≤
  - `pytest/` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ pytest

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–µ—Å—Ç–æ–≤:
1. **–û–¥–∏–Ω —Ç–µ—Å—Ç = –æ–¥–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞** - –∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã** - –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –¥–µ–π—Å—Ç–≤–∏–π (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞)
3. **–ü–∏—à–∏—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞** - –∏–º–µ–Ω–∞ —Ç–µ—Å—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –æ–ø–∏—Å—ã–≤–∞—Ç—å, —á—Ç–æ –æ–Ω–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç
4. **–î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** - –æ–±—ä—è—Å–Ω—è–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—é** - –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Ä–∞–∑–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `secrets/.env.template` –≤ `secrets/.env`
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã —Å–µ–∫—Ä–µ—Ç–æ–≤ –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ git (.gitignore)

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –°–∫—Ä–∏–ø—Ç –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫—É–∫–∏ –∏–ª–∏ –ª–æ–≥–∏–Ω—ã
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫—É–∫ –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏
- –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `secrets/` –∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.gitignore`
